{
    "elements":
    [
        {
            "type": "Section",
            "label": "Metrics",
            "elements":
            [
                {
                    "type": "Control",
                    "label": "Metrics (one to ten)",
                    "scope": "#/properties/model/properties/gaMetrics",
                    "options":
                    {
                        "addButtonText": "Add metric",
                        "showSortButtons": true,
                        "detail":
                        {
                            "metric":
                            {
								"type": "Control",
								"scope": "#/properties/name",
								"options":
								{
									"format": "dropdown"
								}
							}
                        }
                    }
                }
            ]
        },
        {
            "type": "Section",
            "label": "Dimensions",
            "elements":
            [
                {
                    "type": "Control",
                    "label": "Dimensions (up to nine)",
                    "scope": "#/properties/model/properties/gaDimensions",
                    "options":
                    {
                        "addButtonText": "Add dimension",
                        "showSortButtons": true,
                        "detail":
                        {
                            "dimension":
                            {
                                "type": "Control",
                                "scope": "#/properties/name",
                                "options":
                                {
                                    "format": "dropdown"
                                }
                            }
                        }
                    }
                },
                {
                    "type": "Control",
                    "label": "Date ranges (up to four)",
                    "scope": "#/properties/model/properties/dateRanges",
                    "options":
                    {
                        "addButtonText": "Add date range",
                        "detail":
                        {
                            "dateRange":
                            {
                                "type": "HorizontalLayout",
                                "elements":
                                [
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/fromDate",
                                        "options":
                                        {
                                            "format": "string"
                                        }
                                    },
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/toDate",
                                        "options":
                                        {
                                            "format": "string"
                                        }
                                    },
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/rangeName"
                                    }
                                ]
                            }
                        }
                    }
                },
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/includeDateRangeNameColumn",
                    "options":
                    {
                        "isAdvanced": true
                    }
                }
            ]
        },
        {
            "type": "Section",
            "label": "Dimension filter",
            "elements":
            [
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/gaDimensionFilter/properties/connectVia",
                    "rule":
                    {
                        "effect": "SHOW",
                        "condition":
                        {
                            "scope": "#/properties/model/properties/gaDimensionFilter/properties/filters",
                            "schema":
                            {
                                "minItems": 2
                            }
                        }
                    },
                    "options":
                    {
                        "format": "valueSwitch",
                        "initial": "ALL"
                    }
                },
                {
                    "type": "ListWithDetail",
                    "scope": "#/properties/model/properties/gaDimensionFilter/properties/filters",
                    "options":
                    {
                        "addButtonText": "Add filter criterion",
                        "arrayElementTitle": "Filter criterion",
                        "detail":
                        {
                            "dimension":
                            {
								"type": "Control",
								"label": "Dimension",
								"scope": "#/properties/name"
							},
							"negate":
							{
								"type": "Control",
								"scope": "#/properties/isNegated"
							},
							"filterType":
							{
								"type": "HorizontalLayout",
								"elements":
								[
									{
										"type": "Control",
										"scope": "#/properties/selectedType",
										"options":
										{
											"format": "valueSwitch",
											"initial": "STRING"
										}
									},
									{
										"type": "Control",
										"scope": "#/properties/caseSensitivity",
										"options":
										{
											"format": "valueSwitch",
											"isAdvanced": true
										}
									}
								]
							},
                            "stringFilter":
                            {
                                "type": "HorizontalLayout",
                                "elements":
                                [
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/stringFilter/properties/matchType",
                                        "options":
                                        {
                                            "initial": "CONTAINS"
                                        }
                                    },
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/stringFilter/properties/value"
                                    }
                                ],
                                "rule":
                                {
                                    "effect": "SHOW",
                                    "condition":
                                    {
                                        "scope": "#/properties/selectedType",
                                        "schema":
                                        {
                                            "const": "STRING"
                                        }
                                    }
                                }
                            },
                            "inListFilter":
                            {
                                "type": "Control",
								"scope": "#/properties/inListFilter/properties/values",
								"options":
								{
									"format": "combobox"
								},
                                "rule":
                                {
                                    "effect": "SHOW",
                                    "condition":
                                    {
                                        "scope": "#/properties/selectedType",
                                        "schema":
                                        {
                                            "const": "IN_LIST"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        },
        {
            "type": "Section",
            "label": "Output",
            "elements":
            [
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/gaOrderBy",
                    "options":
                    {
                        "addButtonText": "Add order by",
                        "arrayElementTitle": "Order by",
                        "showSortButtons": true,
                        "detail":
                        {
                            "selectedOrderByType":
                            {
                                "type": "Control",
                                "scope": "#/properties/selectedType",
                                "options":
                                {
                                    "format": "valueSwitch",
                                    "initial": "METRIC"
                                }
                            },
                            "orderByMetric":
                            {
                                "type": "Control",
                                "scope": "#/properties/orderByMetric",
                                "format": "dropdown",
                                "label": "Metric",
                                "rule":
                                {
                                    "effect": "SHOW",
                                    "condition":
                                    {
                                        "scope": "#/properties/selectedType",
                                        "schema":
                                        {
                                            "const": "METRIC"
                                        }
                                    }
                                }
                            },
                            "orderByDimension":
                            {
                                "type": "HorizontalLayout",
                                "elements":
                                [
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/orderByDimension/properties/dimensionName",
										"format": "dropdown"
                                    },
                                    {
                                        "type": "Control",
                                        "scope": "#/properties/orderByDimension/properties/orderType",
                                        "options":
                                        {
                                            "isAdvanced": true
                                        }
                                    }
                                ],
                                "rule":
                                {
                                    "effect": "SHOW",
                                    "condition":
                                    {
                                        "scope": "#/properties/selectedType",
                                        "schema":
                                        {
                                            "const": "DIMENSION"
                                        }
                                    }
                                }
                            },
                            "descending":
                            {
                                "type": "Control",
                                "scope": "#/properties/sortOrder",
                                "options":
                                {
                                    "format": "valueSwitch",
                                    "initial": "DESCENDING"
                                }
                            }
                        }
                    }
                },
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/currencyCode",
                    "options":
                    {
                        "isAdvanced": true
                    }
                },
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/keepEmptyRows",
                    "options":
                    {
                        "isAdvanced": true
                    }
                },
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/returnResponseMetadata",
                    "options":
                    {
                        "isAdvanced": true
                    }
                },
                {
                    "type": "Control",
                    "scope": "#/properties/model/properties/returnPropertyQuota",
                    "options":
                    {
                        "isAdvanced": true
                    }
                }
            ]
        }
    ]
}
